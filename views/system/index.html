{% extends 'system/systemtemplate.html' %}

{% block configpage %}
<script type="text/javascript"><!--
function updateLoad() {
$.ajax({
        method: 'GET',
        cache: 'false',
        url : '/api/loadavg',
        dataType : 'text',
        success: function (text) { $('#load').text(text); }
});
}
var loadInterval = setInterval(updateLoad, 5000);

function updatePercentfree() {
$.ajax({
        method: 'GET',
        cache: 'false',
        url : '/api/memory_percent',
        dataType : 'text',
        success: function (text) { $('#percentfree').text(text); }
});
}
var percentfreeInterval = setInterval(updatePercentfree, 60000);

function updateMemfree() {
$.ajax({
        method: 'GET',
        cache: 'false',
        url : '/api/memory_free',
        dataType : 'text',
        success: function (text) { $('#memfree').text(text); }
});
}
var memfreeInterval = setInterval(updateMemfree, 60000);

function updateUptime() {
$.ajax({
        method: 'GET',
        cache: 'false',
        url : '/api/uptime',
        dataType : 'text',
        success: function (text) { $('#uptime').text(text); }
});
}
var uptimeInterval = setInterval(updateUptime, 60000);
--></script>

<div id="configpage">
<h2>Plug information</h2>
<div id="leftpanel">
<div id="header">
<div>About your Device</div>
</div><!-- header -->
<div id="displayarea">
<p><b>Device:</b> {{ devicename }}</p>
<p><b>Processor:</b> {{ processor }}</p>
<p><b>Architecture:</b> {{ architecture }}</p>
<p><b>Kernel:</b> Linux {{ kernelversion }}</p>

</div><!-- displayarea -->
</div><!-- leftpanel -->
<div id="rightpanel">
<div id="header">
Status
</div><!-- header -->
<div id="attributes">

<div id="filenametitle" class="panelattributename">Uptime:</div>
<div id="uptime" class="panelattribute">{{ currentuptime }}</div>

<div id="filetypetitle" class="panelattributename">Memory used:</div>
<div id="memory" class="panelattribute"><meter min="0" max="100" value="{{ percentused }}"></meter> {{ memused }}MB</div>

<div id="filesizetitle" class="panelattributename">Load:</div>
<div id="load" class="panelattribute">{{ load }}</div>

<div id="filedatetitle" class="panelattributename">Local IP Address:</div>
<div id="ip" class="panelattribute">{{ localip }}</div>
    
<div id="filedatetitle" class="panelattributename">Public IP Address:</div>
<div id="ip" class="panelattribute">{{ publicip }}</div>

</div><!-- attributes -->
</div><!-- rightpanel -->


</div><!-- configpage -->
<div style="clear:both;"></div>
{% endblock %}
